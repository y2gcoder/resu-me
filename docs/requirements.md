# Requirements (MVP)

본 문서는 PRD를 기반으로 한 MVP 기능 요구사항을 간단히 정리한 것이다.
앱이 발전함에 따라 지속적으로 업데이트된다.

---

## Auth & 계정

- 사용자는 이메일과 비밀번호로 가입할 수 있다.
- 이메일과 핸들은 중복되면 안 된다.
- 사용자는 로그인하여 토큰(JWT)을 발급받을 수 있다.
- 비밀번호는 안전하게 해시되어 저장되어야 한다.
- 로그인한 사용자는 자신의 프로필을 조회하고 수정할 수 있다.

## Resume (이력서)

- 사용자는 새로운 이력서를 생성할 수 있다 (제목, 언어, 공개 여부 포함).
- 사용자는 자신의 이력서를 조회, 수정, 삭제할 수 있다.
- 무료 플랜 사용자는 이력서를 1개까지만 생성할 수 있다.
- 이력서의 수정 시각은 변경 시마다 갱신된다.

## Section (섹션)

> MVP 단계에서는 최소한의 섹션만 제공한다.
> 추후 확장 섹션은 향후 버전에서 추가한다.

### MVP 코어 섹션

- 기본 정보 (basic_info)
- 요약 (summary)
- 경력 (work)
- 프로젝트 (projects)
- 기술 (skills)
- 링크 (links)

### 추후 확장 섹션 (Out of Scope for MVP)

- 학력 (education)
- 자격/수상 (certificates_awards)
- 언어 (languages)
- 포트폴리오 (portfolio)

### 섹션 공통 요구사항

- 사용자는 각 섹션을 추가/수정/삭제할 수 있어야 한다.
- 섹션 순서를 자유롭게 재배치할 수 있어야 한다.
- 섹션 데이터는 타입별 최소 스키마를 만족해야 한다.
- PDF와 공개 포트폴리오 화면에서도 동일한 섹션 구조가 유지되어야 한다.

### MVP 코어 섹션별 요구사항

- **기본 정보 (basic_info)**: 이름, 직무/직함, 이메일 등 이력서 상단에 표시되는 필수 정보 입력
- **요약 (summary)**: 2~4문장으로 자신을 간단히 소개할 수 있음
- **경력 (work)**: 회사, 직무, 기간, 성과를 입력할 수 있으며 여러 개의 경력을 추가 가능
- **프로젝트 (projects)**: 프로젝트명, 역할, 기간, 결과 및 링크를 기록할 수 있음
- **기술 (skills)**: 키워드 형태로 보유 기술을 나열할 수 있음
- **링크 (links)**: GitHub, 블로그 등 외부 사이트를 연결할 수 있음

### 추후 확장 섹션 요구사항 (Out of Scope for MVP)

- **학력 (education)**: 학교명, 전공, 학위, 기간 등을 입력할 수 있음
- **자격/수상 (certificates_awards)**: 자격증명, 점수/등급, 발급기관, 수상명 등을 기록할 수 있음
- **언어 (languages)**: 언어명, 수준, 시험 점수 등을 기록할 수 있음
- **포트폴리오 (portfolio)**: 프로젝트 산출물 링크 및 첨부파일을 관리할 수 있음

## Public Portfolio

- 공개된 이력서는 `/u/{handle}/{resumeId}` 경로에서 접근할 수 있다.
- `isPublic=true`인 경우에만 접근 가능하다.
- 공개 뷰에서는 민감한 정보(이메일 등)를 노출하지 않는다.

## Export (PDF/HTML 내보내기)

- 사용자는 이력서를 PDF로 내보낼 수 있다.
- 내보내기 생성 시 사용자는 렌더링 템플릿을 선택할 수 있으며, 선택하지 않을 경우 시스템 기본 템플릿이 적용된다.
- 내보내기는 비동기로 처리되며 상태가 기록된다 (pending → processing → succeeded/failed).
- 성공 시 PDF는 스토리지에 저장되고 URL이 반환된다.
- 무료 플랜 사용자는 월간 PDF 내보내기를 최대 **5회**까지 수행할 수 있다.

## Template & Rendering

- 시스템은 템플릿 키에 따라 이력서를 HTML로 렌더링한다.
- MVP 단계에서는 단일 템플릿만 제공하지만, 내보내기에서 템플릿을 교체할 수 있도록 확장 가능한 구조를 유지한다 (무료 플랜은 기본 템플릿만 사용 가능).
- 기본 템플릿은 시스템 전역 설정으로 관리하며, Export 생성 시 명시되지 않을 경우 이를 사용한다.
- 다국어(locale)에 맞는 날짜와 라벨 포맷을 적용한다.
- 지원 로케일은 BCP 47 코드 `en-US`, `ko-KR`을 사용한다.
- 템플릿 문제가 있을 경우 기본 템플릿으로 폴백한다.

## AI 보조 (선택)

- 사용자는 AI를 이용해 요약문을 생성할 수 있다.
- 사용자는 AI를 이용해 EN↔KO 번역을 수행할 수 있다.
- AI 호출은 비용 제어를 위해 제한된다.

## Storage

- 핵심 데이터(User, Resume, Section, Export)는 PostgreSQL에 저장된다.
- 생성된 PDF는 오브젝트 스토리지에 저장되고 URL로 접근 가능하다.

## Observability

- 시스템은 `/health` 엔드포인트를 제공한다.
- 주요 오류와 이벤트는 로그에 기록된다.

## Security & Privacy

- 인증되지 않은 사용자는 비공개 데이터에 접근할 수 없다.
- 공개 뷰에서도 개인정보는 최소한만 노출된다.
- 토큰 만료와 재발급 정책을 적용한다.
